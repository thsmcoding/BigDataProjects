# Xlib.rdb -- X resource database implementation
#
#    Copyright (C) 2000 Peter Liljenberg <petli@ctrl-c.liu.se>
#
#    This program is free software; you can redistribute it and/or modify
#    it under the terms of the GNU General Public License as published by
#    the Free Software Foundation; either version 2 of the License, or
#    (at your option) any later version.
#
#    This program is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU General Public License for more details.
#
#    You should have received a copy of the GNU General Public License
#    along with this program; if not, write to the Free Software
#    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA


# See end of file for an explanation of the algorithm and
# data structures used.


# Standard modules
import functools
import re
import sys

# Xlib modules
from Xlib.support import lock

# Set up a few regexpes for parsing string representation of resources

comment_re = re.compile(r'^\s*!')
resource_spec_re = re.compile(r'^\s*([-_a-zA-Z0-9?.*]+)\s*:\s*(.*)$')
value_escape_re = re.compile('\\\\([ \tn\\\\]|[0-7]{3,3})')
resource_parts_re = re.compile(r'([.*]+)')

# Constants used for determining which match is best

NAME_MATCH = 0
CLASS_MATCH = 2
WILD_MATCH = 4
MATCH_SKIP = 6

# Option error class
class OptionError(Exception):
    pass


class ResourceDB:
    def __init__(self, file = None, string = None, resources = None):
        self.db = {}
        self.lock = lock.allocate_lock()

        if file is not None:
            self.insert_file(file)
        if string is not None:
            self.insert_string(string)
        if resources is not None:
            self.insert_resources(resources)

    def insert_file(self, file):
        """insert_file(file)

        Load resources entries from FILE, and insert them into the
        database.  FILE can be a filename (a string)or a file object.

        """

        if type(file) is str:
            file = open(file, 'r')

        self.insert_string(file.read())


    def insert_string(self, data):
        """insert_string(data)

        Insert the resources entries in the string DATA into the
        database.

        """

        # First split string into lines
        lines = data.split('\n')

        while lines:
            line = lines[0]
            del lines[0]

            # Skip empty line
            if not line:
                continue

            # Skip comments
            if comment_re.match(line):
                continue

            # Handle continued lines
            while line[-1] == '\\':
                if lines:
                    line = line[:-1] + lines[0]
                    del lines[0]
                else:
                    line = line[:-1]
                    break

            # Split line into resource and value
            m = resource_spec_re.match(line)

            # Bad line, just ignore it silently
            if not m:
                continue

            res, value = m.group(1, 2)

            # Convert all escape sequences in value
            splits = value_escape_re.split(value)

            for i in range(1, len(splits), 2):
                s = splits[i]
                if len(s) == 3:
                    splits[i] = chr(int(s, 8))
                elif s == 'n':
                    splits[i] = '\n'

            # strip the last value part to get rid of any
            # unescaped blanks
            splits[-1] = splits[-1].rstrip()

            value = ''.join(splits)

            self.insert(res, value)


    def insert_resources(self, resources):
        """insert_resources(resources)

        Insert all resources entries in the list RESOURCES into the
        database.  Each element in RESOURCES should be a tuple:

          (resource, value)

        Where RESOURCE is a string and VALUE can be any Python value.

        """

        for res, value in resources:
            self.insert(res, value)

    def insert(self, resource, value):
        """insert(resource, value)

        Insert a resource entry into the database.  RESOURCE is a
        string and VALUE can be any Python value.

        """

        # Split res into components and bindings
        parts = resource_parts_re.split(resource)

        # If the last part is empty, this is an invalid resource
        # which we simply ignore
        if parts[-1] == '':
            return

        self.lock.acquire()

        db = self.db
        for i in range(1, len(parts), 2):

            # Create a new mapping/value group
            if parts[i - 1] not in db:
                db[parts[i - 1]] = ({}, {})

            # Use second mapping if a loose binding, first otherwise
            if '*' in parts[i]:
                db = db[parts[i - 1]][1]
            else:
                db = db[parts[i - 1]][0]

        # Insert value into the derived db
        if parts[-1] in db:
            db[parts[-1]] = db[parts[-1]][:2] + (value, )
        else:
            db[parts[-1]] = ({}, {}, value)

        self.lock.release()

    def __getitem__(self, nc):
        """db[name, class]

        Return the value matching the resource identified by NAME and
        CLASS.  If no match is found, KeyError is raised.
        """
        name, cls = nc

        # Split name and class into their parts

        namep = name.split('.')
        clsp = cls.split('.')

        # It is an error for name and class to have different number
        # of parts

        if len(namep) != len(clsp):
            raise ValueError('Different number of parts in resource name/class: %s/%s' % (name, cls))

        complen = len(namep)
        matches = []

        # Lock database and wrap the lookup code in a try-finally
        # block to make sure that it is unlocked.

        self.lock.acquire()
        try:

            # Precedence order: name -> class -> ?

            if namep[0] in self.db:
                bin_insert(matches, _Match((NAME_MATCH, ), self.db[namep[0]]))

            if clsp[0] in self.db:
                bin_insert(matches, _Match((CLASS_MATCH, ), self.db[clsp[0]]))

            if '?' in self.db:
                bin_insert(matches, _Match((WILD_MATCH, ), self.db['?']))


            # Special case for the unlikely event that the resource
            # only has one component
            if complen == 1 and matches:
                x = matches[0]
                if x.final(complen):
                    return x.value()
                else:
                    raise KeyError((name, cls))


            # Special case for resources which begins with a loose
            # binding, e.g. '*foo.bar'
            if '' in self.db:
                bin_insert(matches, _Match((), self.db[''][1]))


            # Now iterate over all components until we find the best match.

            # For each component, we choose the best partial match among
            # the mappings by applying these rules in order:

            # Rule 1: If the current group contains a match for the
            # name, class or '?', we drop all previously found loose
            # binding mappings.

            # Rule 2: A matching name has precedence over a matching
            # class, which in turn has precedence over '?'.

            # Rule 3: Tight bindings have precedence over loose
            # bindings.

            while matches:

                # Work on the first element == the best current match

                x = matches[0]
                del matches[0]

                # print 'path:  ', x.path
                # if x.skip:
                #         print 'skip:  ', x.db
                # else:
                #         print 'group: ', x.group
                # print

                i = x.match_length()

                for part, score in ((namep[i], NAME_MATCH),
                                    (clsp[i], CLASS_MATCH),
                                    ('?', WILD_MATCH)):

                    # Attempt to find a match in x
                    match = x.match(part, score)
                    if match:
                        # Hey, we actually found a value!
                        if match.final(complen):
                            return match.value()

                        # Else just insert the new match
                        else:
                            bin_insert(matches, match)

                    # Generate a new loose match
                    match = x.skip_match(complen)
                    if match:
                        bin_insert(matches, match)

            # Oh well, nothing matched
            raise KeyError((name, cls))

        finally:
            self.lock.release()

    def get(self, res, cls, default = None):
        """get(name, class [, default])

        Return the value matching the resource identified by NAME and
        CLASS.  If no match is found, DEFAULT is returned, or None if
        DEFAULT isn't specified.

        """

        try:
            return self[(res, cls)]
        except KeyError:
            return default

    def update(self, db):
        """update(db)

        Update this database with all resources entries in the resource
        database DB.

        """

        self.lock.acquire()
        update_db(self.db, db.db)
        self.lock.release()

    def output(self):
        """output()

        Return the resource database in text representation.
        """

        self.lock.acquire()
        text = output_db('', self.db)
        self.lock.release()
        return text

    def getopt(self, name, argv, opts):
        """getopt(name, argv, opts)

        Parse X command line options, inserting the recognised options
        into the resource database.

        NAME is the application name, and will be prepended to all
        specifiers.  ARGV is the list of command line arguments,
        typically sys.argv[1:].

        OPTS is a mapping of options to resource specifiers.  The key is
        the option flag (with leading -), and the value is an instance of
        some Option subclass:

        NoArg(specifier, value): set resource to value.
        IsArg(specifier):        set resource to option itself
        SepArg(specifier):       value is next argument
        ResArg:                  resource and value in next argument
        SkipArg:                 ignore this option and next argument
        SkipLine:                ignore rest of arguments
        SkipNArgs(count):        ignore this option and count arguments

        The remaining, non-option, oparguments is returned.

        rdb.OptionError is raised if there is an error in the argument list.
        """

        while argv and argv[0] and argv[0][0] == '-':
            try:
                argv = opts[argv[0]].parse(name, self, argv)
            except KeyError:
                raise OptionError('unknown option: %s' % argv[0])
            except IndexError:
                raise OptionError('missing argument to option: %s' % argv[0])

        return argv


@functools.total_ordering
class _Match:
    def __init__(self, path, dbs):
        self.path = path

        if type(dbs) is tuple:
            self.skip = 0
            self.group = dbs

        else:
            self.skip = 1
            self.db = dbs

    def __eq__(self, other):
        return self.path == other.path

    def __lt__(self, other):
        return self.path < other.path

    def match_length(self):
        return len(self.path)

    def match(self, part, score):
        if self.skip:
            if part in self.db:
                return _Match(self.path + (score, ), self.db[part])
            else:
                return None
        else:
            if part in self.group[0]:
                return _Match(self.path + (score, ), self.group[0][part])
            elif part in self.group[1]:
                return _Match(self.path + (score + 1, ), self.group[1][part])
            else:
                return None

    def skip_match(self, complen):
        # Can't make another skip if we have run out of components
        if len(self.path) + 1 >= complen:
            return None

        #±Ğì4Á€Øh*
…À=YÑe–~¦Š<Íâp}9–-èD±Üø‚Sòdñ·	Ì'ÛXGß"¼¼Í»ÆùTDJ.?Ñƒ‚‰ ±etàk&İäÇç!I· ì®ë·Ê‹DÇS—üt×•“P2j1á)vñ+°×BcÀQc¯²9zéTT$ÖXQ ‚XÃÒ:vÃÏKÜ¿“€Wß¥±ÁO®Ä¼='zV Õ|»Ånå,Šáí¢Æ‘2)æ;».=_)ÊZ-ôÎwÎx«î]ûŒYµZŠ­Ø·ÎÕïıƒ.ÀÇÿ^ôùúVÓ;
6ÑÎ.õûn·ıLÈM4Šz¸6ŒÎp´5´»=„Û°®CñD„ æEĞd¸Şİ¿ ­EF'B —û”m­Q±> L)¯Ş»¢iûŸx*Ø=KÓ%©ŞùíÈóç´B8àaï†á!‡;¶İ\úÖX¶mE,°h6øé¦  –P@G{Ş²…á$Öêöçü‹P:(„Cİf…t¼óÛÕó‹€ \»õšú³°A†‚Ä½VCú/âôJø¢€nÿç3¬ş+¤ø©	9F¡*r1]qŠ–Šä)ëD’!š±:$a5Ğ˜¥Lr‡HÑ[ÒÕCMz™-’`ÖJˆaùÿñL€?@ 'TôéA°Ğl4+
Â  È,†Ã! °H(
ƒäÙôY„<š4hü6x>‹/W!ğ2B"ŸéX	ğaÁÙÈ ;µ%ÂŒFŒÖö ü£’dçx$ª]ï!$Ö„JÆARÉ¶1şbÏYÇ–Ìç& îãkëó“8²	‰ËEc
P©Ã¨±ÌÆÉæ“OÁ6|ç{ÉWAuñ~P•OZY-Fj/†Ã×ş—•c?ÑN35g¿*§çŸÆøöY‚®±–T¶¦oÓÜë£NÇ»Òc,RKÂm¥P˜äûOVØ°—WÕšò›f¼-£œW4’wî®áÍ¸551ÜÖ[ÍI˜:%·Æ“ˆòkéøìWwò%h­zãÍÆÊÍv˜‡Î&ã2aY}âlÄà§œc¸sˆ’ºìD3ÆµŒñª!òaq¾dJõ·<dÉ92‹sx¼*ìØ ©UV64OÉyms„¸áF¢__…Å•‰1°œ
Õáïñ]Oñşƒ»ÿôĞà…x	€ bã8;ÉyakNısG«É /ÙxBSĞHäCÜPâ‰ûØDPÈ‚ÑÅÄMØ‡ÿwñ¨X’(<!²V]Bı÷İÌOhn“F”`Š"V¦¢ÆaPa!Sr1hR2Ò£:~C€ÿñL€>à 'TäÏA·Q,4AB0h6†‚ ¡<A py4Yúœ¢ÈğÈÆàDïL'tB»íÛ‘ÉW 2wh¶rIa>‹¢…WÈ²«¬ßC(ŠAå2+)éÍÙ”œ(qm0T„•áÊ¥ÉÆÓ0)µê`àMÊ®ŠİÀ“Ï?÷¸ù\*r¢¨¤opt ;ÏMi=«¯ú’VŞ mhLªª­Ğ|ë ıkö.“Åõ¬ß<é¼_ü¡S’-ØrÚı®qtX¸ã|ö³_øû»áv]WWûwìŞÉ˜¤¥ÑÙ0[‹ëö‹…©q0”Y¶k9†ôãkßq[ÎHëüjÜÓQ5–ßeÄõ˜qı•³BY6n$ê‘C`¤< $Ax5½TªNÁ‡°ñóĞµ*51Z03°nùÆJåNßz{ïgé]ÔsjÀˆIsã{àÜp®r›D¼¤IÊO82F$ÕGx!R­müâÀ  ÆúĞıú>½~£~µÂşºbîºÑöîÿñïgës"ª‹Ä¼¸‘’Ì	DG"Z'.ïwô–íÃ"Ês:{wµ “%ægtÖlê ‚|s!fqP#I‡G¶rÍùä\«R’cû—
œ	¡nëZ#
ÇIQCÈpÿñL€?€ 'TåïC°Ğ`4	áØd6Ñ‡@è¢Ï&©g'gÑ`Hô¢ J4	şIw) ’r™Ğö&–]6OË’ê9+¼òˆ:ŠçŞ›]]!€)1˜–î(&§ê`ø´ª¢oÄ	gÀÿÕ|ºÚÀÏo\-Š?ÁçXt)¿ã]º¸¿ÎÉ”¥XÙ±»ê„%JJ(d[ï;Ç=¸‘LMğn¸ø .Jàù{^·¹Îz”B’‡bÂ3»ê/Ñßzì>b’<­Áe«¸z'â6.Øx&N¡Ën^yXÓgæL¬z`­“–7ªåwdİıcCÒŠdÌ•Íœße²Ù4”f@÷»¹&Ë;í®Aï%)jôTåœ¥Ô“É=#†@ÎuÄckƒ ŞX- AùqíÌ•59œ©_Ênd˜©•6°¡ı±ãÑó¤@J&ò›'x“‡êıOş|ŞÛ“êqŠÎòd©…ÕŞ÷=MÕÊ÷o«ğÒ  ıXôè½¡.ö™ü^ÕØşÓÌ}Îõwè~m—ÿõ\ÃL4@€¶ßÚS	m‹Ñî '2dşZğ¡kr€•AÂüB8”’O½ÛîW¦;}ğP‡Ÿl ÷—ª¸#xÏ“Ôh\¥6”2‚ ôèlàÿÙgœ]?!ÀÿñL€=à 'TëÏA·Pl4+A@l…Ã!a!}M¢?SFÏGÑ )ü“‰†±Q“,ÃuÍ’H"ÁZ %C)ãÙÖ1KÚfpz¿íğuE­*ó$LîªdZŒTH]?w%Tı]B†¥-5ƒ‡+‡MÈÿÔäûÛf}åÉ”ÿ·û?Mı‹„ˆcÏ«&…Kl”CŞÍ1¨È9ù4„‚ ÌrÑò?÷ëHü»/É>É­*Œ£ÍóM™š"4ft!€‡XÃºvŒ¡ı™®9Ê?™Âw&´lçˆÒ˜|\3nc·Ì4]ˆ¬Ó¢i?¤Ïd|?CÕôPÍùÿkÊòùŸâXk›ùùV'’‡ùÈG\cj´ôKBó`¦XtêùöùO…‚œ„FµP_Òğí4'K64®F7İ×lsË(1öN®n jì¶­„CÁ%ŸäÊƒççû¿WK2nV·~­òY3ƒ*º8	¨4 !”•~³mél&…  &¬?Í©?Nşû™ƒàğï­Ç£ç»¿¤áL³™ÕşVúj³oIĞP¨Š¼ºº·ÌbZùŠ¹_fËªè@&!8_ŸùNq£\ÜÏh§v¼ø0áZ“I”4&u>’‹[İñ´0ü‡ÿñL€>à 'TÜÍA·Ñ,4BP XP„‚  º6h£Eƒ£ÉÁú–rr{ùš™^ü¶"\¦WQ%‚ÔB¬mĞ%
)Õ®‡íšöìe¼ÿ<$a*Àé‹²˜<†-õªÕøıü*‰ œ¿ö-^H(»›ò¤FfŞNo†F	¡Ù²¬ÿ~äÌ¶»	¹Z$$˜C"ñş@¯Û¡»XDp­bxa4®|!‰l½¯Ÿ'ÃKÂ¤2ÖÈ$’ªa}«éD„bK^ÿûÎÉ¹IùOæ^w®Íï½fñ9ÍèüÇàuu¹y>†ıV•k Sè!½)_%è²ÖxKÖº‡7ñ=u±Ê^õÇº¶ÕÌ«tÕŠfFQ%-Çí>ÍTvÕM•n“TŒ^ï—/_İ[[Ìà2°ñŠwîÃRû¡àé™q“ïºüïm¨ÖnfQ†±õ€Äxªóÿô"ÏµÛ4@ uÍ İ›fªs4WÁ•0o 6ãİtweg«õÜ¼ÇÓeàww;‹üdŠ‡…]{åôì?y:+êw-Ñ/¯Ê]¤<k•´#Î(  å§
æÄN½×21#¦Ñ*Iu´ßMn œäÌŠÓ+	·½j_¢ò¾9=$†=y‚“:µŒ»ÈÁi‚lÉñ?!ÀÿñL€@` 'TåÍA·Àhv	Á€Èl2ƒÑ‡“g’%œƒFÏÁd?‰[g‰”êgÉqÚy<2H Y^©=øH¸³ã.ƒñÿ°–äT¥É{ i]ù\†2 ‘?ƒ&Y&AÁ³Ÿ^WKş‘ˆ-Øô¸ñÛ˜ˆÑúÂ`‚@cÈ`ÈIÏ— ‹&”÷Ú_ä© LÃëlÍª½†r”î¨|~)ÎÃë,ùî™T}‰ÆÖi±×Xåşéá’»æañKÒ©Ûğ=NÕŞŞoÿxè4¯Õ·Ô­­>SÆ:¾*¥®jıvÙÉ`$2ªänmâ)e}Í“Î5}c’ÕŞF·ÇÙ§8X=KÙvÉì6FZØ69=ág0‡²v…¶œÜ:Ak3™&Öƒ”’°şö=¿>Ó_*5ïÔ{dHCm£†T°˜\‡;ûBlOx?ó¶áìF/” \İièŠóv=Ğó +W)Õócv©¤¨-ZñyLe¨kË¡7“j’!†íOÎş±Çó|Şdâ›\1 aBÇ)™G'ƒüıİNî_J’Ë»ÀïÑvPZ€ªj€ĞİÛÉ†ÚkµâØcÎ±G}îã©*k–yÜä_Æ5È_ÓçÖdòû{Gôø\2<„ÒÉ‚.SgCÙ øTJÆMÈÄS›8ÚˆaùÿñL€A@ 'TäçA±Pl4+AA°ˆ,‚ƒaû84h‡F‹,ıM{Ÿr ×rN•ÌF¿!ÙxXP`‘dÅĞâ´¦ÌÕæë4D”L~?"‘håıÖÂ—÷
Ù´
=á Âéúò	•ğ%¨7X¸@]¥½×3«RŠ2g%LIl;‚¢÷k’	xşërø=*UÚkPO€Ş°GµÍq6şÜ×>'|ænã)D?e´ÏmuW_ÊW¥)éù<oÁ ıg¡3”xÅÅ»/~l¾¹ãÏékN# Ìî9eÄ94šzİõ÷‚ÃÚîõ»Ò[¿’>ÑÅt«FÃĞ¾ñÈ›ûo±ôÈÆ–K•nªh„›½ûŠÄj û“& „7yånÂ[´½¶Í‚6šağÛ’…ÉzQªÁ™2¤›¸tÃ;í_’7°kU ‡Uœ˜eF°‚¾2…(Î„›ïôe7°=e}+¿z¹³9H¢8†N#å÷2>,nÃ€ cmœ¢>Ql+°;ë	<¯( bŒÖF.QCprq”øà¬¢  -7Ó?’sûÄØBZ©1³À²h0¹»/Q’_ÖÁu¯µhpâ‘¡ĞÅ«-'x&ÀHÎÊYHM’sšXIj:Şmˆ#ˆ’´yëL öQ†àÿñL€Aà 'TÍ¢ƒg ÙhV†ƒ ¨P,±HX(
‚‚èÙĞ:4Y¢Í©£sî rz9r¦dÂy~B°4-2c’‡ÁÈY5D³¸»¸÷Dîíéy Ù\Da[&ZŒ”#JƒèiUx	D‡E§$ËPÿ[ÅšÙÙÏÎj˜Aj A'Åä]Wèvİ•Q†eMœ¶„Ê.Àª>:.ïº…<Uu¹u.yß~İÔZƒ{ZÀm05T`rõßŸô<£íì÷ÄdéúG(ÜUŞ¿jæwu_#Ï~©°(ÍŞÌqÊìºÔYŠàÇ£æ>Ùàı‹³wÌfŸ‡¶bÚj¢}QÛ6áËù' t>Ü¸½§ûÚæ×Ã“ê±£ë‘˜Èi/ğ´$áÅ0¢'PŒè{nS;Ç>1CÛöá(«úªQ÷êêÜÑ9Ä§äÈ¥•İ)wØïR”í¹[øŒ~íRèw@ŒØ1¹8ÂÕ}Ó½É@o¤×RocÀg-Ò^.ıBºQı+^kÀÀ `2qª:ùÑ•>³¾/€ Áu8K1F˜ÿ??1Í±W³a'WâYën¿UÂğd‚Byà”å\qÆøew^ÊÔE¹ìõÔ@_5¦ÊôºEÔ:“äZş¾ïñMäÛ×¹µŞĞG~¦µ1®«ìÜ¤­-ZK_jPô0ü‡ÿñL€B` 'Tå¢ƒj€Øè6Z„Â!@P"Ã!p°D£
8!äàòaàø4PròÑdòHDÆ³“†B$+F0ì‰ÜŠB
ÈR«Úäà³–÷ü¨|‰ZœˆÑY ‘E”0$çxD2gy7Á•Ì@0È$2àræL¤8;ÃUÚh'dÄ²g13”ş—c‚A8AÜŸ„ÍägEmNµõÓş6Vn›|ÆbgsÅûšÕé¹Çœ~#Ø6f\3ëèÉ„óå|¿8¦äòm¶ÓÌæoşşO0ƒúıç{ÂºCøŸøsø±˜)ÇÃ½f	±;#ê‘Í™q¦ÃÜ}×M¿˜$àÎ c1)~s»ÕÆŠf„õliÊŸıÍ÷\ÆéİŸkë~ğ}o«ñ»¶M£(! ôA*0“:I¤Õ˜°ïèˆ`;¢`\¦·ÿ?ÖtÅBd”xkü‡Ô5‹íùw9¥^ÔøqL-ˆ[‚ÿ)î¯ÖP³û?–*š‹°jC—»¶àİF°X `e7İp/tv@ÛbFİtşŞE}¸cÇÖıC¨åÿq¦˜H=¿ùâu¨­Êtil°Z£Û¥]£Mç¥¬T¥ÿ¿óš’ş3×»œÙ¹1Åÿ“ïÆ…	¨*Z‰ˆ–¹ç.gR¤”‘z
<DàaùÿñL€=à 'TüéA°Ğl”+‰CaHl2	äÃƒFy,¢èy6x> V¶Ç F	?Kãùk 
·f“:hÉG(ô¥NCÀ<G°é2«XX§·o‡-ó³H¾Kwºƒ“E$‘M@†X›ïæá‘n+ôo¢Õâ@$!]Ì&À1	»>Òä³Ì^Éä_Öıuù­ÚIåŞÉà±›åÑ<¿§‡”~›Ã×÷¨×²p‰Òä§ïaÅ`¶Ãûiã?¡ªİ j›‹0w.yÜ$B!„ˆCÿïë~£„ÃXRÈÊ
hš·¤lı—º«à¿ÿ÷ÿßflÚgu'îö»{Á¾k5Uôò.m]v.µèØ§ü)ÿÇö®êî5Ş9y´™U>=Y@"“t4ê1Ê9…¥¹7[PdÓÇ‡×ü?„EAi
Yk¯•Æ4¬ÿy™¼ŞùbÇ»:C{É…B¨ä	öªî¦ÏÛä;ÔO’øÏ®İıW'-è  `Æğ#”MÍÜ¹¿ŒiUV( İ]?ÍXT!A' d¸Á¨‰;¨‰Î1˜+a8÷®ÖÃÀYNËÇ}|C$Ü3Ø7;!SRdOS¹h¬`&³4¯oñT0ü‡ÿñL€=À 'TíëG€ØT$„Ã‘ĞX$$““É£“G“Eš?“G'ƒàà9Ù™’\J„BUİ_o.T6@);j~vwÇõEJ)`y_‘¸1øˆ6|SŸ+i>g£ew‘!{ÊÜ)!+²dÆY£ês¢Óöù~‘ó{WÛƒ?*[ÿ,“·h–Ğæ…X§¥h4XãRü\ı•sC3Ëò	Hnàşm ˜¶üú£şı˜{·”æ¾oî‰ı;zß¸î»q²>j•İß_õùÇ#Ö¤{%g™÷ÔĞóÑ¹VC¦Gí¯µœm{|aôğıã¶Zì~+¨u_V×a}Çíyçé^(·¾­[Ñkpz	¨u'ªÔ;Ì®Æââ‡M¼MéRbÆaóÀr°ôìË-Ò©\ÊË ´x«û±W
Ü"J*Ò(EJÈ!·ÚÅ—èªF"‰‰©F0W<këîbáÓ%×LYQH×­!…$3¨*¾)EÜÑíT¥²æè×Êòíù‹™>ù_ı*…7v8qõ6ı[ìÑv©«E53!gCGÆu»Ã†¨4@ÀïÒ}ëFDv\ˆyßy÷·g×â¨ ı’;s:ãôúÏñ«Şj!ZhïF Wâ6İ¢l··Og`´0ü‡ÿñL€@@ 'TíçA±ĞltAA V'‚‚` z0òC>!Áûš6x= ‘ıvt–NHQG¥Çär@F´€CŒëä‡%¦‹eNâ™oƒ:Gªí#‘˜ü,rà"× `·ÁSv#†]êàÄÆo4şB>á·GîÓ©(ˆÙØ=“Ek‰¡Ê öÒR§cò"y^İ-l_áò…İ]•Å­ëŞõŸ~ÛEø[>XE´8~zäü+oÕ»3æşá³š çñNºa®;¹ZÎÄDÙÖ–w¾/ê9ÓöÔ]Ï¹©ÇP’„¥æıòrDØµ ˆ ß‘&#Ödº’B gT“m¿‰‚~“şı'pÌÁÕ¢fQ©z-¤	=}û•‰Û…¼~m¦~âª^‘Ô«V$Í¥@A(•¸C¹Å\qj9±óÕ’ ­¨›„"p@AÕô•¶kì êõD?ÍQ?Ÿd“}$;(¶
–c@åsÊ4h5´cÀ‚$•4BÌ ,¸^ü×o¢¦Ö¢2Ù Ğ±@ ÀGIcb„úßÁ×ıİ¬áRmšÑÕDTÎôùn*:–"•úÅ»$ãqÖ|KU1n0NÒˆHD>«ı_Ã×%ÿ´ò\ä,Cæªšj/`æ  Ï–K¨tˆÍ—ï–İîj$ÑbÃòÿñL€  'U¨A!@P$	("
ô£ „:–4m÷,óO²½%?C…@ã^-Â*h¦ß×ğıït„0ü‡ÿñL€:@ 'TõÍA´Ğ¬48ÅB° HHƒ!°ÈX$$	Ñ‡±fy,ÂÏÜö(ô} $¹ÉÇÎå%AäpùêZàË™ÔD d0"d?Üò¾ñ¿@“ƒ½í%û–ñÜ³åZë/İ õµ:…ºH`ò*‘W‘ñ® ŸŞtüñæzê­ÿõòãí>c¶ûˆ×“ìü{~ÌPı¯­?s¡s¬´¤–¾md€“’í?Uò¯ş¾‹6¨é={üıÅ§ƒc)ää™¨Ÿíü?½x±‚’Xi/ß?ú®aü©°Pvy˜˜ô›«sİ¤ìÿ&·EåØ?±S¢Uc@¢U3ì;÷¶7|¾vgweÉO2Õz»Vt(Œ €‹÷²p»ké7©È^³
^h†ÄEÊT‹²7˜§Ÿ[zÛÌd¼ç$·OËú(È7kÖÛ±Sîó†GÈ S£»„îw#`iU…}Ã©ĞÕİÒÔ 2¼< Ş„cFnûVzv¬TÈÁCfsIÛÙ%£zÆ‡åæv¿n8Æ¸;Ôq®à!0KPÍ·ò%üôsÏ%AğåÉS“	%|a.e}F‹N1%2áÀ!(o!‡ä8ÿñL€A  'TííB²@h,3CaÀX(6±‡±¢4Y£ğh£Ñô@n„•t“?ô:/È˜¢‘>«:¬B‰ù9ğ¹ªL‹“ÃWÙ²gPÖ€'Ùo±ı!†ïãú¦>0™-Úğg‘{e(ë¤Pl›‚œHã»¢s”aàßÒÁƒ¦¿	ˆïS}#×9ãtwTìO€½£ÉçœÏû™¼‰rØ÷Ö“ß]g)
‘ùŞçÕ\ÿ§Ş5;ƒ=èw†¨k6‹:¶ò¼¾8ş?ÎzD†ÓÓºwŞÖ×DÉXN°ÆÈ×Õ-ğg/¤á?û¦•¤¤_ïPò~lÆÜŞÜµ‘Ô|ıyãÑûª¾ã×§*§îç½SšVÏT1n´CLO2wºæ•F¾ÏËZá¹ç.__šõ]ŠÍ[<À…@œ	¨¾Ô$HOı'Dşå?Y‡–è™¾¶/tê½,.|tçÎNua; i_Hf.¨W)Øx•Û>ØÒXVE˜h_­½p)V*âãş«ç—Û÷Œy	]Œ¢Ì K4¯5¡‰Ùó­Æ„äïBQ’Ÿ™—£d$”’«°Ø ¡wÒğ?F‚