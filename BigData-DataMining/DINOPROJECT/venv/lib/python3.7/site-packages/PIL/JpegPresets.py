"""
JPEG quality settings equivalent to the Photoshop settings.

More presets can be added to the presets dict if needed.

Can be use when saving JPEG file.

To apply the preset, specify::

  quality="preset_name"

To apply only the quantization table::

  qtables="preset_name"

To apply only the subsampling setting::

  subsampling="preset_name"

Example::

  im.save("image_name.jpg", quality="web_high")


Subsampling
-----------

Subsampling is the practice of encoding images by implementing less resolution
for chroma information than for luma information.
(ref.: https://en.wikipedia.org/wiki/Chroma_subsampling)

Possible subsampling values are 0, 1 and 2 that correspond to 4:4:4, 4:2:2 and
4:2:0.

You can get the subsampling of a JPEG with the
`JpegImagePlugin.get_sampling(im)` function.

In JPEG compressed data a JPEG marker is used instead of an EXIF tag.
(ref.: https://www.exiv2.org/tags.html)


Quantization tables
-------------------

They are values use by the DCT (Discrete cosine transform) to remove
*unnecessary* information from the image (the lossy part of the compression).
(ref.: https://en.wikipedia.org/wiki/Quantization_matrix#Quantization_matrices,
https://en.wikipedia.org/wiki/JPEG#Quantization)

You can get the quantization tables of a JPEG with::

  im.quantization

This will return a dict with a number of arrays. You can pass this dict
directly as the qtables argument when saving a JPEG.

The tables format between im.quantization and quantization in presets differ in
3 ways:

1. The base container of the preset is a list with sublists instead of dict.
   dict[0] -> list[0], dict[1] -> list[1], ...
2. Each table in a preset is a list instead of an array.
3. The zigzag order is remove in the preset (needed by libjpeg >= 6a).

You can convert the dict format to the preset format with the
`JpegImagePlugin.convert_dict_qtables(dict_qtables)` function.

Libjpeg ref.:
https://web.archive.org/web/20120328125543/http://www.jpegcameras.com/libjpeg/libjpeg-3.html

"""

# fmt: off
presets = {  # noqa: E128
            'web_low':      {'subsampling':  2,  # "4:2:0"
                             'quantization': [
                               [20, 16, 25, 39, 50, 46, 62, 68,
                                16, 18, 23, 38, 38, 53, 65, 68,
                                25, 23, 31, 38, 53, 65, 68, 68,
                                39, 38, 38, 53, 65, 68, 68, 68,
                                50, 38, 53, 65, 68, 68, 68, 68,
                                46, 53, 65, 68, 68, 68, 68, 68,
                                62, 65, 68, 68, 68, 68, 68, 68,
                                68, 68, 68, 68, 68, 68, 68, 68],
                               [21, 25, 32, 38, 54, 68, 68, 68,
                                25, 28, 24, 38, 54, 68, 68, 68,
                                32, 24, 32, 43, 66, 68, 68, 68,
                                38, 38, 43, 53, 68, 68, 68, 68,
                                54, 54, 66, 68, 68, 68, 68, 68,
                                68, 68, 68, 68, 68, 68, 68, 68,
                                68, 68, 68, 68, 68, 68, 68, 68,
                                68, 68, 68, 68, 68, 68, 68, 68]
                              ]},
            'web_medium':   {'subsampling':  2,  # "4:2:0"
                             'quantization': [
                               [16, 11, 11, 16, 23, 27, 31, 30,
                                11, 12, 12, 15, 20, 23, 23, 30,
                                11, 12, 13, 16, 23, 26, 35, 47,
                                16, 15, 16, 23, 26, 37, 47, 64,
                                23, 20, 23, 26, 39, 51, 64, 64,
                                27, 23, 26, 37, 51, 64, 64, 64,
                                31, 23, 35, 47, 64, 64, 64, 64,
                                30, 30, 47, 64, 64, 64, 64, 64],
                               [17, 15, 17, 21, 20, 26, 38, 48,
                                15, 19, 18, 17, 20, 26, 35, 43,
                                17, 18, 20, 22, 26, 30, 46, 53,
                                21, 17, 22, 28, 30, 39, 53, 64,
                                20, 20, 26, 30, 39, 48, 64, 64,
                                26, 26, 30, 39, 48, 63, 64, 64,
                                38, 35, 46, 53, 64, 64, 64, 64,
                                48, 43, 53, 64, 64, 64, 64, 64]
                             ]},
            'web_high':     {'subsampling':  0,  # "4:4:4"
                             'quantization': [
                                [6,  4,  4,  6,  9, 11, 12, 16,
                                 4,  5,  5,  6,  8, 10, 12, 12,
                                 4,  5,  5,  6, 10, 12, 14, 19,
                                 6,  6,  6, 11, 12, 15, 19, 28,
                                 9,  8, 10, 12, 16, 20, 27, 31,
                                11, 10, 12, 15, 20, 27, 31, 31,
                                12, 12, 14, 19, 27, 31, 31, 31,
                                16, 12, 19, 28, 31, 31, 31, 31],
                                [7,  7, 13, 24, 26, 31, 31, 31,
                                 7, 12, 16, 21, 31, 31, 31, 31,
                                13, 16, 17, 31, 31, 31, 31, 31,
                                24, 21, 31, 31, 31, 31, 31, 31,
                                26, 31, 31, 31, 31, 31, 31, 31,
                                31, 31, 31, 31, 31, 31, 31, 31,
                                31, 31, 31, 31, 31, 31, 31, 31,
                                31, 31, 31, 31, 31, 31, 31, 31]
                             ]},
            'web_very_high': {'subsampling':  0,  # "4:4:4"
                              'quantization': [
                                [2,  2,  2,  2,  3,  4,  5,  6,
                                 2,  2,  2,  2,  3,  4,  5,  6,
                                 2,  2,  2,  2,  4,  5,  7,  9,
                                 2,  2,  2,  4,  5,  7,  9, 12,
                                 3,  3,  4,  5,  8, 10, 12, 12,
                                 4,  4,  5,  7, 10, 12, 12, 12,
                                 5,  5,  7,  9, 12, 12, 12, 12,
                                 6,  6,  9, 12, 12, 12, 12, 12],
                                [3,  3,  5,  9, 13, 15, 15, 15,
                                 3,  4,  6, 11, 14, 12, 12, 12,
                                 5,  6,  9, 14, 12, 12, 12, 12,
                                 9, 11, 14, 12, 12, 12, 12, 12,
                                13, 14, 12, 12, 12, 12, 12, 12,
                                15, 12, 12, 12, 12, 12, 12, 12,
                                15, 12, 12, 12, 12, 12, 12, 12,
                                15, 12, 12, 12, 12, 12, 12, 12]
                              ]},
            'web_maximum':  {'subsampling':  0,  # "4:4:4"
                             'quantization': [
                                [1,  1,  1,  1,  1,  1,  1,  1,
                                 1,  1,  1,  1,  1,  1,  1,  1,
                                 1,  1,  1,  1,  1,  1,  1,  2,
                                 1,  1,  1,  1,  1,  1,  2,  2,
                                 1,  1,  1,  1,  1,  2,  2,  3,
                                 1,  1,  1,  1,  2,  2,  3,  3,
                                 1,  1,  1,  2,  2,  3,  3,  3,
                                 1,  1,  2,  2,  3,  3,  3,  3],
                                [1,  1,  1,  2,  2,  3,  3,  3,
                                 1,  1,  1,  2,  3,  3,  3,  3,
                                 1,  1,  1,  3,  3,  3,  3,  3,
                                 2,  2,  3,  3,  3,  3,  3,  3,
                                 2,  3,  3,  3,  3,  3,  3,  3,
                                 3,  3,  3,  3,  3,  3,  3,  3,
                                 3,  3,  3,  3,  3,  3,  3,  3,
                                 3,  3,  3,  3,  3,  3,  3,  3]
                             ]},
            'low':          {'subsampling':  2,  # "4:2:0"
                             'quantization': [
                               [18, 14, 14, 21, 30, 35, 34, 17,
                                14, 16, 16, 19, 26, 23, 12, 12,
                                14, 16, 17, 21, 23, 12, 12, 12,
                   t      B O dt        t 8 > f s t   (  t 	 	H (	 R	 W	 m	4 {	L 	@ 	 	ċ 	T 	h 	̋ 	؋ 	| 	 	ԋ 	 
 
  
+ &
 4
 Y
@  x  l & \ ?  D l T p f x r d  t  ̋  ؋  x  ̋  l  Ћ p 2x ?l I\ b gl wp x d t  ċ x  l !Ћ 8p Ux bl l\  l  p  t x l x p !x .l 8\ Q Vl dH np t l p l l ċ ؋  L " '̋ ,ԋ 6L At Pԋ Y _h v {x ̋ ؋;	PO D	TO I	O Q	`O W	O ]	\O 
X X YX X X X  0 
  $ 0 K  |   X  lX  lX    P AP WPxX X X xX pX pX X    6xX <X hxX qX {pX pX X 4X mX X X X X X X 	X dO X QdO W4O ehO k8O lO <O tO DO xO HO |O LO 	O 	O 	XO  	pO %	@O 1	O 6	O 2X 8X =X WX tX X tX hX X  X X X X X  X &X 6X QX aX gX yX X X 8O +<O 6HO AX FDO PLO gTO tX yXO \O X 4Z 4a pX xX X pX #8Z /0Z >pX IpX w8Z ~8Z 8Z 8Z 8Z 8Z 8Z 4Z <Z 4Z <Z !pX &4Z  @8fX nX wX |X X X X X X dX |X lX X tX X tX dO X hX "X (X -X sX X X 	X 'PO ,X :@O E`O X  + &X ,X 5X  E(X tX  3$?dW  D$RdW WX vX X X X tX X X X =X   ,X  (jX tX X X  , $W &V LX gX X X }	X 	tX 	X 
X 
X *
X G
X c
X 
X 
X 4O xX 	X c	X m	pX {	pX 	 	 	 	 
xX 
X  
4
xX 
X ]X fpX xX X X pX zpX xX pX     4+ W+ f+ 4X X S X     `  #8 QtX  d4X X X X X X X X xX $X 1X eX npX xxX }pX X |X ~  4i4^ X |X X X     xX X xX X pX pX J Y i y ?xX LX YX X pX pX xX - < L xX X  4X tX X 7X AX atX xX X X tX X SX X tX X X  xX  X  , 46 xX ; X  pX  X  pX    ' ;  + + + 40X 6X {xX X  4xX X &X 0pX >pX     + + + ?4X X xX X xX  4bpX qpX X      r+ + + 4X X xX X xX  4'X 1pX ?pX @	X DX WX xX X X X rxX pX X pX X  X $ X 0 X C X t xX  X  X  X lX vpX pX